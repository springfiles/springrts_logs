[Unit]
Description=gunicorn daemon for springrts_logs service
Requires=springrts-logs-gunicorn.socket
After=network.target

[Service]
PermissionsStartOnly=True
RuntimeDirectory=gunicorn
RuntimeDirectoryMode=0775
PIDFile=/run/gunicorn/infolog.pid
User=infolog
Group=infolog
RuntimeDirectory=gunicorn
WorkingDirectory=/home/infolog/sites/springrts_logs
ExecStart=/home/infolog/virtenvs/spring_logs/bin/gunicorn \
	--pid /run/gunicorn/infolog.pid   \
	--bind unix:/run/gunicorn/infolog.socket \
	--access-logfile /home/infolog/springrts_logs.access.log \
	--error-logfile /home/infolog/springrts_logs.error.log \
	--log-level debug \
	--workers 2 \
	--capture-output \
	springrts_logs.wsgi
ExecReload=/bin/kill -s HUP $MAINPID
ExecStop=/bin/kill -s TERM $MAINPID
PrivateTmp=true

[Install]
WantedBy=multi-user.target
